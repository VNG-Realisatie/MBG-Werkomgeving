<!DOCTYPE html><html lang="nl"><head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="generator" content="ReSpec 34.1.4">
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
  
  
  
  
  
  
<script>document.title = respecConfig.title</script>
<title>MBG - Metamodel BerichtstructuurGegevens</title>
  
<title>Default</title>
  
<link rel="shortcut icon" type="image/x-icon" href="https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/media/logo-VNG-Realisatie.ico">
  

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline;position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-.7em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<style id="respec-nlgov">
img.license{float:left;padding-right:5px}
</style>
<style>
ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}
</style>
<style>

  .sidelabel {
    position: fixed;
    -webkit-transform-origin: top right;
    right: 100%;
    top: 0;
    -webkit-transform: rotate(-90deg);
    padding: 4px 50px 4px 10px;
    color: white;
    white-space: nowrap;
    z-index: 1;
    background-color: Black;
  }
</style>
<script type="text/javascript">
   /* Any custom mermaid.js scripts will go here. */
  </script>
<style>

  /* Any custom mermaid.js scripts will go here. */
  }
</style>
<script id="initialUserConfig" type="application/json">{
  "nl_organisationName": "VNG Realisatie",
  "nl_organisationStylesURL": "https://gitdocumentatie.logius.nl/publicatie/respec/style/",
  "nl_organisationPublishURL": "https://vng-realisatie.github.io/publicatie",
  "logos": [
    {
      "src": "https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/media/logo-VNG-Realisatie.jpg",
      "alt": "VNG-Realisatie",
      "id": "VNG-Realisatie",
      "height": 77,
      "url": "https://www.vng.nl"
    }
  ],
  "postProcess": [
    null
  ],
  "pubDomain": "cim",
  "latestVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName"
  ],
  "thisVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName",
    "/",
    "publishVersion"
  ],
  "prevVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName",
    "/",
    "previousPublishVersion"
  ],
  "useLogo": true,
  "useLabel": true,
  "license": "eupl",
  "addSectionLinks": false,
  "localizationStrings": {
    "en": {
      "wv": "Draft",
      "cv": "Recommendation",
      "vv": "Proposed recommendation",
      "def": "Definitive version",
      "eo": "Outdated version",
      "tg": "Rescinded version",
      "basis": "Document",
      "no": "Norm",
      "st": "Standard",
      "im": "Information model",
      "pr": "Guideline",
      "hr": "Guide",
      "wa": "Proposed recommendation",
      "al": "General",
      "bd": "Governance documentation",
      "bp": "Best practice"
    },
    "nl": {
      "wv": "Werkversie",
      "cv": "Consultatieversie",
      "vv": "Versie ter vaststelling",
      "def": "Vastgestelde versie",
      "eo": "Verouderde versie",
      "tg": "Teruggetrokken versie",
      "tst": "Test versie",
      "ig": "In Gebruik versie",
      "io": "In Ontwikkeling versie",
      "basis": "Document",
      "no": "Norm",
      "st": "Standaard",
      "im": "Informatiemodel",
      "pr": "Praktijkrichtlijn",
      "hr": "Handreiking",
      "wa": "Werkafspraak",
      "al": "Algemeen",
      "bd": "Beheerdocumentatie",
      "bp": "Best practice"
    }
  },
  "sotdText": {
    "nl": {
      "sotd": "Status van dit document",
      "def": "Dit is de definitieve versie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
      "wv": "Dit is een werkversie die op elk moment kan worden gewijzigd, verwijderd of vervangen door andere documenten. Het is geen door het TO goedgekeurde consultatieversie.",
      "cv": "Dit is een door het TO goedgekeurde consultatieversie. Commentaar over dit document kan gestuurd worden naar ",
      "vv": "Dit is een definitief concept van de nieuwe versie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
      "basis": "Dit is een document zonder officiële status.",
      "ig": "Dit document is 'In Gebruik'.",
      "io": "Dit document is nog 'In Ontwikkeling'."
    },
    "en": {
      "sotd": "Status of This Document",
      "def": "This is the definitive version of this document. Edits resulting from consultations have been applied.",
      "wv": "This is a draft that could be altered, removed or replaced by other documents. It is not a recommendation approved by TO.",
      "cv": "This is a proposed recommendation approved by TO. Comments regarding this document may be sent to ",
      "vv": "This is the definitive concept of this document. Edits resulting from consultations have been applied.",
      "basis": "This document has no official standing.",
      "ig": "This document is 'In Use'.",
      "io": "This document is is still 'Under Development'."
    }
  },
  "labelColor": {
    "def": "#154273",
    "wv": "#39870c",
    "ig": "#A569BD",
    "io": "#DC7633"
  },
  "licenses": {
    "cc0": {
      "name": "Creative Commons 0 Public Domain Dedication",
      "short": "CC0",
      "url": "https://creativecommons.org/publicdomain/zero/1.0/",
      "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-zero.svg"
    },
    "cc-by": {
      "name": "Creative Commons Attribution 4.0 International Public License",
      "short": "CC-BY",
      "url": "https://creativecommons.org/licenses/by/4.0/legalcode",
      "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-by.svg"
    },
    "cc-by-nd": {
      "name": "Creative Commons Naamsvermelding-GeenAfgeleideWerken 4.0 Internationaal",
      "short": "CC-BY-ND",
      "url": "https://creativecommons.org/licenses/by-nd/4.0/legalcode.nl",
      "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-by-nd.svg"
    },
    "eupl": {
      "name": "EUROPEAN UNION PUBLIC LICENCE v. 1.2",
      "short": "EUPL",
      "url": "https://eupl.eu/",
      "image": "https://eupl.eu/eu.png"
    }
  },
  "localBiblio": {
    "MIM": {
      "href": "https://docs.geostandaarden.nl/mim/def-st-mim-20220217/",
      "publisher": "Geonovum",
      "title": "MIM - Metamodel Informatie Modellering",
      "date": "17 Februari 2022",
      "rawDate": "2022",
      "id": "mim"
    },
    "OMG": {
      "title": "Object Management Group Unified Modeling Language TM",
      "href": "http://www.omg.org/spec/UML/2.5",
      "version": "2.5",
      "status": "BG-FINAL",
      "publisher": "Object Management Group (OMG)",
      "id": "omg"
    },
    "UML": {
      "title": "Unified Modeling Language (UML).",
      "href": "http://uml.org",
      "id": "uml"
    }
  },
  "shortName": "mbg",
  "specType": "ST",
  "specStatus": "CV",
  "publishDate": "2024-02020",
  "publishVersion": "0.9.0",
  "title": "MBG - Metamodel BerichtstructuurGegevens",
  "authors": [
    {
      "name": "Robert Melskens",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    }
  ],
  "editors": [
    {
      "name": "Robert Melskens",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    },
    {
      "name": "Johan Boer",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    }
  ],
  "github": "https://github.com/VNG-Realisatie/MBG-Werkomgeving",
  "alternateFormats": [
    {
      "label": "pdf",
      "uri": "MBG.pdf"
    }
  ]
}</script>
<link rel="stylesheet" href="https://gitdocumentatie.logius.nl/publicatie/respec/style/base.css"></head>

<body class="h-entry toc-inline"><div class="head">
    <a class="logo" href="https://www.vng.nl"><img alt="VNG-Realisatie" height="77" id="VNG-Realisatie" src="https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/media/logo-VNG-Realisatie.jpg">
  </a> <h1 id="title" class="title">MBG - Metamodel BerichtstructuurGegevens</h1>
    
    <h2>
      VNG Realisatie Standaard<br>
      Consultatieversie
      <time class="dt-published" datetime="2024-02-21">21 februari 2024</time>
    </h2>
    <dl>
      <dt>Deze versie:</dt><dd class="status">
              <a class="u-url status" href="https://vng-realisatie.github.io/publicatie/cim/mbg/0.9.0">https://vng-realisatie.github.io/publicatie/cim/mbg/0.9.0</a>
            </dd>
      <dt>Laatst gepubliceerde versie:</dt><dd>
              <a href="https://vng-realisatie.github.io/publicatie/cim/mbg">https://vng-realisatie.github.io/publicatie/cim/mbg</a>
            </dd>
      <dt>Laatste werkversie:</dt><dd><a href="https://vng-realisatie.github.io/MBG-Werkomgeving/">https://vng-realisatie.github.io/MBG-Werkomgeving/</a></dd>
      
      
      
      
      
      <dt>Redacteurs:</dt>
      <dd class="editor p-author h-card vcard">
    <span class="p-name fn">Robert Melskens</span> (<a class="p-org org h-org" href="https://vng.nl/artikelen/vng-realisatie">VNG Realisatie</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Johan Boer</span> (<a class="p-org org h-org" href="https://vng.nl/artikelen/vng-realisatie">VNG Realisatie</a>)
  </dd>
      
      <dt>Auteur:</dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Robert Melskens</span> (<a class="p-org org h-org" href="https://vng.nl/artikelen/vng-realisatie">VNG Realisatie</a>)
  </dd>
      <dt>Doe mee:</dt><dd>
    <a href="https://github.com/VNG-Realisatie/MBG-Werkomgeving/">GitHub VNG-Realisatie/MBG-Werkomgeving</a>
  </dd><dd>
    <a href="https://github.com/VNG-Realisatie/MBG-Werkomgeving/issues/">Dien een melding in</a>
  </dd><dd>
    <a href="https://github.com/VNG-Realisatie/MBG-Werkomgeving/commits/">Revisiehistorie</a>
  </dd><dd>
    <a href="https://github.com/VNG-Realisatie/MBG-Werkomgeving/pulls/">Pull requests</a>
  </dd>
    </dl>
    
    
    <p>
          Dit document is ook beschikbaar in dit niet-normatieve formaat:
          <a rel="alternate" href="MBG.pdf">pdf</a>
        </p>
    <p class="copyright">
          Dit document valt onder de volgende licentie: 
          <a rel="license" href="https://eupl.eu/" class="subfoot"><img class="license" src="https://eupl.eu/eu.png" alt="Logo EUROPEAN UNION PUBLIC LICENCE v. 1.2"><br> EUROPEAN UNION PUBLIC LICENCE v. 1.2</a>
        </p>
    <hr title="Separator for header">
  </div>
  <div><section><h2 id="samenvatting">Samenvatting</h2>
<p>Metamodel voor het beschrijven van Berichtgegevens (MBG), versie <strong>0.9</strong>.</p>
<p>Met MBG, het Metamodel voor BerichtstructuurGegevens, wordt een metamodel beschreven waarmee berichten kunnen worden gemodelleerd in de vorm van Berichtstructuurmodellen. Het beschrijft de metaklassen, metastructuur en metagegevens als grondslag voor alle onderdelen van een bericht. Doel hiervan is het vastleggen van de methode van het modelleren van berichten zodat dit op een eenduidige gebeurd en de gemeenschappelijke tooling deze modellen ook kan verwerken. Vooralsnog wordt ingezet op het definiëren van een metamodel voor het beschrijven van OAS specificaties voor REST API’s maar het is tevens bedoeld als basis voor verbetering en doorontwikkeling van dit metamodel.</p>
</section></div>
  <div id="sotd" class="introductory"><h2>Status van dit document</h2><p>Dit is een door het TO goedgekeurde consultatieversie. Commentaar over dit document kan gestuurd worden naar </p></div><nav id="toc"><h2 class="introductory" id="inhoudsopgave">Inhoudsopgave</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#inleiding"><bdi class="secno">1. </bdi>Inleiding</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#toepassingsgebied"><bdi class="secno">1.1 </bdi>Toepassingsgebied</a></li><li class="tocline"><a class="tocxref" href="#doelgroep"><bdi class="secno">1.2 </bdi>Doelgroep</a></li><li class="tocline"><a class="tocxref" href="#leeswijzer"><bdi class="secno">1.3 </bdi>Leeswijzer</a></li><li class="tocline"><a class="tocxref" href="#gebruikswijzer"><bdi class="secno">1.4 </bdi>Gebruikswijzer</a></li><li class="tocline"><a class="tocxref" href="#wat-is-een-bsm"><bdi class="secno">1.5 </bdi>Wat is een BSM</a></li><li class="tocline"><a class="tocxref" href="#typering-van-modellen-en-scope-van-deze-standaard"><bdi class="secno">1.6 </bdi>Typering van modellen en scope van deze standaard</a></li><li class="tocline"><a class="tocxref" href="#wat-is-het-metamodel-voor-berichtstructuurmodellering"><bdi class="secno">1.7 </bdi>Wat is het metamodel voor Berichtstructuurmodellering</a></li><li class="tocline"><a class="tocxref" href="#uitdrukken-in-uml"><bdi class="secno">1.8 </bdi>Uitdrukken in UML</a></li><li class="tocline"><a class="tocxref" href="#beheer"><bdi class="secno">1.9 </bdi>Beheer</a></li><li class="tocline"><a class="tocxref" href="#normreferenties"><bdi class="secno">1.10 </bdi>Normreferenties</a></li></ol></li><li class="tocline"><a class="tocxref" href="#metamodel-algemeen"><bdi class="secno">2. </bdi>Metamodel Algemeen</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#structuur-metamodel"><bdi class="secno">2.1 </bdi>Structuur metamodel</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#kern"><bdi class="secno">2.1.1 </bdi>Kern</a></li><li class="tocline"><a class="tocxref" href="#groepering"><bdi class="secno">2.1.2 </bdi>Groepering</a></li></ol></li><li class="tocline"><a class="tocxref" href="#objecten"><bdi class="secno">2.2 </bdi>Objecten</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#berichttypes"><bdi class="secno">2.2.1 </bdi>Berichttypes</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#getberichttype"><bdi class="secno">2.2.1.1 </bdi>Getberichttype</a></li><li class="tocline"><a class="tocxref" href="#postberichttype"><bdi class="secno">2.2.1.2 </bdi>Postberichttype</a></li><li class="tocline"><a class="tocxref" href="#putberichttype"><bdi class="secno">2.2.1.3 </bdi>Putberichttype</a></li><li class="tocline"><a class="tocxref" href="#patchberichttype"><bdi class="secno">2.2.1.4 </bdi>Patchberichttype</a></li><li class="tocline"><a class="tocxref" href="#deleteberichttype"><bdi class="secno">2.2.1.5 </bdi>Deleteberichttype</a></li></ol></li><li class="tocline"><a class="tocxref" href="#padtype"><bdi class="secno">2.2.2 </bdi>Padtype</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">3. </bdi>Conformiteit</a></li><li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">A. </bdi>Index</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</a></li><li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>Referenties</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normatieve-referenties"><bdi class="secno">B.1 </bdi>Normatieve referenties</a></li></ol></li></ol></nav>
  <div><section><h2 id="colofon-en-voorwoord">Colofon en Voorwoord</h2>
<section><h3 id="colofon">Colofon</h3>
<p>Aan de totstandkoming van deze versie van dit metamodel hebben de volgende inhoudelijke experts op het gebied van informatiemodellering meegewerkt:</p>
<table class="simple">
<thead>
<tr>
<th>Naam</th>
<th>Organisatie</th>
<th>Rol en achtergrond</th>
</tr>
</thead>
<tbody><tr>
<td>Robert Melskens</td>
<td>VNG</td>
<td>Imvertor Gebruikersgroep. Imvertor ontwikkelaar.<br>MIM expertgroep.</td>
</tr>
<tr>
<td>Johan Boer</td>
<td>VNG</td>
<td>MIM expertgroep. Adviseur standaarden.</td>
</tr>
</tbody></table>
</section><section><h3 id="voorwoord">Voorwoord</h3>
<p>Bij de VNG en Kennisnet worden de Conceptuele InformatieModellen (CIM) die op basis van het MIM worden vervaardigd 
en die een beeld geven van de informatiebehoefte binnen een domein op conceptueel niveau omgezet naar Uitwisselings 
Gegevensmodellen (UGM). Een UGM is een vertaling van een CIM naar een technische structuur. Een UGM biedt echter 
onvoldoende informatie voor het genereren van berichtspecificaties (in yaml of xml) en daarom wordt een Bericht 
Structuur Model (BSM) vervaardigd waarbinnen het UGM gebruikt wordt om de inhoud van de berichten te definiëren.</p>
<p>Teneinde het gebruik van BSM’s ook buiten de VNG en Kennisnet mogelijk te maken is besloten de structuur van de BSM’s 
formeel te beschrijven. Onderliggend document is daarvan het resultaat. Het dient als basis voor verbeteringen en 
uitbreidingen waaraan binnen de Imvertor Gebruikersgroep gewerkt zal worden.</p>
</section></section></div>
  <section id="inleiding"><h2 id="x1-inleiding"><bdi class="secno">1. </bdi>Inleiding</h2>
<p>Het onderliggende document bevat het Metamodel voor BerichtstructuurGegevens (MBG), voor het beschrijven van Berichtstructuurmodellen. 
VNG Realisatie heeft er voor gekozen dit metamodel als een extensie op het MUG (Metamodel UitwisselingsGegevens) te definiëren. In theorie is het ook mogelijk om het MBG als een extensie op het MIM te definiëren. In beide gevallen vormen ze tezamen de basis voor een Bericht Structuur Model (BSM). Het metamodel beschrijft de modellering zoals toegepast bij VNG Realisatie en Kennisnet bij het modelleren van API-specificaties. Het dient als basis voor de doorontwikkeling daarvan binnen de Imvertor community zodat het ook voor andere organisaties en op mogelijke andersoortige specificaties toepasbaar wordt. Het model bevat duidelijke afspraken over het vastleggen van berichtgegevensspecificaties.</p>
<p>Dit document is opgesteld met kennis aanwezig bij VNG Realisatie.</p>
<section id="toepassingsgebied"><h3 id="x1-1-toepassingsgebied"><bdi class="secno">1.1 </bdi>Toepassingsgebied</h3>
<p>Het metamodel biedt de modelleringstaal waarmee het bericht-technische deel van een BSM gemaakt, gelezen en begrepen kan worden. Het doel hiervan is:
*	de leesbaarheid en eenduidigheid van BSM’s te vergroten;
*	een basis te leggen voor het aanbrengen van verbeteringen en uitbreidingen van dit metamodel en de gerelateerde BSM’s;
*	tooling te kunnen (door)ontwikkelen en (her)gebruiken voor resp. door alle partijen die kiezen voor dit metamodel;
*	en in het verlengde hiervan, om op een meer geautomatiseerde werkwijze sneller en beter voorspelbaar uitwisselingsstandaarden op te kunnen stellen.</p>
<p>Voor BSM’s die op basis van dit metamodel zijn beschreven geldt:
*	ze zijn eenduidig te interpreteren en goed te vergelijken;
*	er kan documentatie mee worden opgesteld of gegenereerd welke geschikt is voor publicatie;
*	er kunnen specificaties mee worden gegenereerd die direct geschikt zijn om bijv. als OAS voor een API-standaard in te zetten.</p>
</section><section id="doelgroep"><h3 id="x1-2-doelgroep"><bdi class="secno">1.2 </bdi>Doelgroep</h3>
<p>Dit document is primair bestemd voor berichtontwerpers die BSM’s maken, mensen die model-driven verder werken op basis van informatiemodellen 
die zijn vervaardigd op basis van [<cite><a class="bibref" data-link-type="biblio" href="#bib-mim" title="MIM - Metamodel Informatie Modellering">MIM</a></cite>]. Kennis van informatiemodelleringen middels [<cite><a class="bibref" data-link-type="biblio" href="#bib-uml" title="Unified Modeling Language (UML).">UML</a></cite>] is een vereiste. Dit metamodel richt zich in 
het bijzonder op de informatievoorziening binnen het overheidsdomein, al is het ook in bredere context inzetbaar.</p>
<p>Daarnaast is dit document ook bruikbaar voor ontwikkelaars van tooling die de, op basis van de met dit metamodel vervaardigde, BSM’s als input nemen.</p>
</section><section id="leeswijzer"><h3 id="x1-3-leeswijzer"><bdi class="secno">1.3 </bdi>Leeswijzer</h3>
<p>Het metamodel beschrijven we in 3 hoofdstukken en enkele bijlages.</p>
<p>Lees de <a href="#inleiding">Inleiding</a> verder voor inzicht in wat we onder een BSM en onder een metamodel verstaan, hoe deze modellen zich verhouden tot UML en de vier lagen metamodel architectuur van de Object Management Group [<cite><a class="bibref" data-link-type="biblio" href="#bib-omg" title="Object Management Group Unified Modeling Language TM">OMG</a></cite>], </p>
<p>Het hoofdstuk <a href="#metamodel-algemeen">Metamodel Algemeen</a> bevat de beschrijving van alle bouwstenen c.q. de modelelementen van het MBG metamodel, in de vorm van definities en specificaties. De betekenis en toelichting van de modelelementen van het metamodel vormt het materiaal waarmee een uitputtende modelspecificatie kan worden opgesteld. </p>
<p>Het hoofdstuk <a href="#metamodel-in-uml">Metamodel in UML</a> beschrijft hoe de implementatie van het MBG in [<cite><a class="bibref" data-link-type="biblio" href="#bib-uml" title="Unified Modeling Language (UML).">UML</a></cite>] er uit ziet. In dit hoofdstuk wordt beschreven hoe het MBG metamodel zich verhoudt tot het UML metamodel, welke uitbreidingen c.q. verbijzonderingen van het UML metamodel zijn aangebracht.</p>
<p>In het hoofdstuk <a href="#afspraken-regels">Afspraken &amp; Regels</a> ........
In de bijlage <a href="#diagrammen">Diagrammen</a> vind je een aantal diagrammen die betrekking hebben op het MBG metamodel. Bijlage <a href="#metamodel-UitwisselingsGegevens-mug">Metamodel UitwisselingsGegevens (MUG)</a> beschrijft het MUG metamodel, een metamodel dat nagenoeg 1 op 1 te mappen is op het MIM en alleen qua naamgeving van de modelelementen en qua metagegevens afwijkt van het MIM metamodel. Om die reden hebben we dit niet in een apart document beschreven. Tenslotte vind je in de bijlagen <a href="#specifieke-mbg-metagegevens-voor-imvertor">Specifieke MBG metagegevens voor Imvertor</a> en <a href="#specifieke-mug-metagegevens-voor-imvertor">Specifieke MUG metagegevens voor Imvertor</a> nog de specifiek voor Imvertor gedefinieerde metagegevens.</p>
</section><section id="gebruikswijzer"><h3 id="x1-4-gebruikswijzer"><bdi class="secno">1.4 </bdi>Gebruikswijzer</h3>
<p>Met de bouwstenen oftewel de modelelementen die in dit metamodel beschreven zijn is het bericht-technische deel van een BSM te maken. Om zo'n BSM te maken volstaat het veelal om het hoofdstuk <a href="#metamodel-algemeen">Metamodel Algemeen</a> en bijlage <a href="#specifieke-mbg-metagegevens-voor-imvertor">Specifieke MBG metagegevens voor Imvertor</a> door te nemen. Voor het maken van een UGM kun je terugvallen op de bijlagen <a href="#metamodel-UitwisselingsGegevens-mug">Metamodel UitwisselingsGegevens (MUG)</a> en <a href="#specifieke-mug-metagegevens-voor-imvertor">Specifieke MUG metagegevens voor Imvertor</a>.</p>
<p>De andere hoofdstukken kan je behandelen als naslagwerk, voor als er tijdens het modelleren vragen ontstaan. Neem vervolgens je favoriete modelleertool en ga aan de slag. Voor Enterprise Architect zijn er hulpmiddelen gemaakt waarmee de modelelementen aangemaakt kunnen worden door erop te klikken en bijvoorbeeld naar een diagram te slepen. Ook kan je daarmee valideren of je model correct het MBG volgt (wat automatisch gaat als je de hulpmiddelen gebruikt). Tot slot is het mogelijk om naar BSM’s te kijken van organisaties die al een op het MBG gebaseerd BSM hebben gepubliceerd.</p>
</section><section id="wat-is-een-bsm"><h3 id="x1-5-wat-is-een-bsm"><bdi class="secno">1.5 </bdi>Wat is een BSM</h3>
<p>Een BSM is een gegevensmodel waarin alle componenten van een bericht worden gemodelleerd, de bericht-technische objecten maar ook objecten die gaan over de inhoud van een domein. Het gaat dus om informatie over datgene wat uitgewisseld wordt maar ook om hoe het wordt uitgewisseld. De scope van een BSM is dus breder dan dat van het Metamodel voor Berichtgegevens (MBG).</p>
<p>In een BSM worden zoals gezegd ook objecten gemodelleerd die gaan over de inhoud van een domein. Van alle objecten wordt vastgelegd welke kenmerken/eigenschappen deze hebben, of deze kenmerken/eigenschappen in het beschouwde domein verplicht of optioneel zijn, hoe de objecten aan elkaar gerelateerd zijn, enzovoorts. Voor de vastlegging van deze objecten, kenmerken en eigenschappen wordt geen gebruik gemaakt van het MBG metamodel maar van het MUG metamodel. Wel is er in het MBG metamodel voorzien in een relatie met het MUG metamodel.
 </p>
</section><section id="typering-van-modellen-en-scope-van-deze-standaard"><h3 id="x1-6-typering-van-modellen-en-scope-van-deze-standaard"><bdi class="secno">1.6 </bdi>Typering van modellen en scope van deze standaard</h3>
<p>Bij het modelleren van een domein zijn er een aantal beschouwingsniveaus, variërend van een zo getrouw mogelijke beschrijving van de betekenis en bedoeling van de woorden en termen die mensen gebruiken als ze het ergens over hebben tot een specificatie van de wijze van registratie en uitwisseling van data. In het [<cite><a class="bibref" data-link-type="biblio" href="#bib-mim" title="MIM - Metamodel Informatie Modellering">MIM</a></cite>] vind je een uitgebreide beschrijving van deze niveau’s.</p>
<p>Een BSM is een extensie op het logisch informatie- of gegevensmodel (niveau 3) en is dus een model op niveau 4. Het modelleert de bericht-technische componenten benodigd voor de uitwisseling van de met het logisch informatie- of gegevensmodel gedefinieerde informatie en koppelt deze daaraan. Waar de objecten, kenmerken en eigenschappen in een logisch informatie- of gegevensmodel techniek onafhankelijk zijn geldt dat voor de componenten in een BSM slechts deels. De componenten in een BSM kunnen nog op allerlei manieren geserialiseerd worden maar tegelijkertijd wordt er bij de modellering van de bericht-technische componenten al voorgesorteerd op de wijze waarop de specificatie zal worden gegenereerd, bijv. OAS. De bericht-technische componenten hebben dus elk een tegenhanger in de specificaties. Het component ‘Padtype’ bijvoorbeeld is specifiek in het leven geroepen voor het definiëren van een OAS specificatie. En hoewel niet uitgesloten mag worden dat dit component ook bij andersoortige specificaties een rol heeft of gaat krijgen, had het bij het modelleren van StUF berichten nooit een functie. Ook de enumeratie voor de naam van de ‘EntiteitRelatie’ hangt natuurlijk erg sterk samen met REST API’s.</p>
<p>Een BSM kan, zoals hierboven reeds geschetst, geserialiseerd worden in verschillende soorten technische datamodellen en schema's (zoals XML, JSON of specifieke invullingen hiervan). Deze serialisaties zijn wat we in MBG niveau 4 noemen. De focus van het MBG ligt niet op dit niveau 4 en valt dan ook buiten scope. Wel staat het MBG een model-gedreven werkwijze voor waarbij de modellen van niveau 4 gegenereerd kunnen worden vanuit niveau 3.
De aangegeven niveaus zijn vooral bedoeld om de scope van MBG duidelijk aan geven, te weten niveau 3.</p>
</section><section id="wat-is-het-metamodel-voor-berichtstructuurmodellering"><h3 id="x1-7-wat-is-het-metamodel-voor-berichtstructuurmodellering"><bdi class="secno">1.7 </bdi>Wat is het metamodel voor Berichtstructuurmodellering</h3>
<p>Een metamodel is een model van een model. Het definieert een verzameling van modelleerconstructies in de vorm van bouwstenen, oftewel modelelementen zoals een Berichttype, Entiteitrelatie en Padtype, met bijbehorende betekenis en met bijbehorende afspraken omtrent hoe deze toe te passen. Hiermee kan vervolgens een informatiemodel of in dit geval specifiek een BSM gemaakt worden. Het metamodel is daarmee de modelleertaal waarin een informatiemodel is uitgedrukt. Deze metataal beschrijft als het ware de grammatica en de syntax van de modelleertaal.  </p>
<p>Vaak zie je dat het metamodel niet expliciet beschreven is en dat het metamodel een onderdeel van de domeinkennis is geworden. Bij domein overstijgende harmonisatie wordt het dan moeilijk om modellen met elkaar te vergelijken en op basis daarvan gegevens uit te wisselen.
Bij een BSM is dat aspect echter van minder belang. Belangrijker is dat er duidelijkheid is over de betekenis van de modelelementen en de toepassing daarvan zodat het definiëren van een BSM eenvoudiger wordt en deze ook eenvoudiger door andere organisaties kan worden toegepast. Het is ook een voorwaarde voor de doorontwikkeling van dit metamodel, bijv. voor andere berichtspecificatietalen.</p>
<p>Met de in een metamodel opgenomen set van modelleerconstructies worden informatiemodellen gemaakt. Door het schrijven van modelleertalen (zoals [<cite><a class="bibref" data-link-type="biblio" href="#bib-uml" title="Unified Modeling Language (UML).">UML</a></cite>]) in een metataal (zoals MOF) wordt gegarandeerd dat alle toepassingen van die talen op een standaard manier zijn opgebouwd en daardoor alom te begrijpen zijn. De metataal beschrijft als het ware de grammatica van de modelleertaal. Het metamodel in dit document is uitgewerkt voor modellering met UML.</p>
</section><section id="uitdrukken-in-uml"><h3 id="x1-8-uitdrukken-in-uml"><bdi class="secno">1.8 </bdi>Uitdrukken in UML</h3>
<p>Zowel het metamodel als informatiemodellen zoals het BSM kunnen worden uitgedrukt in [<cite><a class="bibref" data-link-type="biblio" href="#bib-uml" title="Unified Modeling Language (UML).">UML</a></cite>]. Aangezien het belangrijk is dat de lezer begrijpt wat we onder een informatiemodel en een metamodel verstaan verwijzen we naar paragraaf 1.8 van het [<cite><a class="bibref" data-link-type="biblio" href="#bib-mim" title="MIM - Metamodel Informatie Modellering">MIM</a></cite>]. Daarin worden de modellen tevens in de juiste context geplaatst aan de hand van de vier lagen metamodel architectuur van de Object Management Group [<cite><a class="bibref" data-link-type="biblio" href="#bib-omg" title="Object Management Group Unified Modeling Language TM">OMG</a></cite>]. </p>
<p>Verwar de daarin besproken vier lagen metamodel architectuur overigens niet met de in paragraaf 1.6 geschetste typering van modellen. Die typering van 4 lagen wijkt fundamenteel af van de in het [<cite><a class="bibref" data-link-type="biblio" href="#bib-mim" title="MIM - Metamodel Informatie Modellering">MIM</a></cite>] beschreven typering van 4 lagen (M0 t/m M3). De in paragraaf 1.6 geschetste lagen zijn geen instantie van de daarboven gelegen laag waar dat in het OMG model wel het geval is.</p>
<p>Het onderliggende Metamodel BerichtstructuurGegevens (MBG) is een voorbeeld van een model op de M2 laag. Een BSM is een instantie van het MBG en bevindt zich dan ook op de M1 laag.</p>
</section><section id="beheer"><h3 id="x1-9-beheer"><bdi class="secno">1.9 </bdi>Beheer</h3>
<p>Het beheer van dit metamodel vindt plaats door ….</p>
</section><section id="normreferenties"><h3 id="x1-10-normreferenties"><bdi class="secno">1.10 </bdi>Normreferenties</h3>
<table class="simple">
<thead>
<tr>
<th>#</th>
<th>Naam</th>
<th>Referentie</th>
</tr>
</thead>
<tbody><tr>
<td>1.</td>
<td>Unified Modeling Language (UML)</td>
<td>[<cite><a class="bibref" data-link-type="biblio" href="#bib-uml" title="Unified Modeling Language (UML).">UML</a></cite>]</td>
</tr>
<tr>
<td>2.</td>
<td>OMG Unified Modeling Language TM versie 2.5</td>
<td>[<cite><a class="bibref" data-link-type="biblio" href="#bib-omg" title="Object Management Group Unified Modeling Language TM">OMG</a></cite>]</td>
</tr>
</tbody></table>
<div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Noot</span><span class="issue-label">: Versienummer normreferenties</span></div><aside class="">
De versies van de genoemde referenties zijn bewust niet opgenomen, zodat het mogelijk is om gebruik te maken van nieuwere versies van deze referenties. Wanneer er nieuwe versies uitkomen van de genoemde normreferenties dan wordt er gecheckt of MBG hier nog mee in lijn is. Wanneer dit niet zo is, dan wordt er aan gewerkt om dit weer met elkaar in lijn te brengen, zodat MBG 'upward compatible' is en blijft.
</aside></div></section></section>
  <section id="metamodel-algemeen"><h2 id="x2-metamodel-algemeen"><bdi class="secno">2. </bdi>Metamodel Algemeen</h2>
<p>Dit hoofdstuk beschrijft het metamodel in diagramvorm en in tekst.</p>
<p>Het metamodel beschrijft de modelelementen die worden gebruikt bij het maken van een BSM. Voorbeelden van modelelementen zijn: 
Berichttype, Entiteitrelatie en Padtype, maar denk ook datatypen of aan metagegevens. In de paragrafen hierna worden alle 
modelelementen beschreven en toegelicht.</p>
<ul>
<li>   De eerste paragraaf bevat diagrammen, die kort een overzicht geven van de modelelementen die op metamodel niveau worden
onderkend, alsmede hun onderlinge verhouding</li>
<li>   De paragrafen erna bevatten de beschrijvingen in tekst van de modelelementen die op metamodel niveau worden onderkend.
Wanneer u liever de beschrijvingen eerst leest, kunt u ook met deze paragraaf starten. Dit begint bij 2.2.</li>
<li>   Paragraaf 2.5 bevat de metagegevens die worden bijgehouden over de modelelementen in een informatiemodel. Het MBG metamodel
geeft aan welke metagegevens er zijn.</li>
</ul>
<p><strong>Uitgangspunten voor het metamodel</strong></p>
<ul>
<li>   Elk modelelement heeft een naam en een eigen MBG metaclass, waaraan je het modelelement overal kan herkennen.</li>
<li>   De modelelementen worden eerst uitgelegd zonder een specifieke specificatietaal te gebruiken. Dit is zodat we hierna kunnen
aangeven hoe je het modelelement uitdrukt per specifieke specificatietaal, te weten in UML of in W3C-specificatietechnieken.</li>
<li>   Een toolonafhankelijke beschrijving van het metamodel. Verder is er, omdat VNG Realisatie, Kadaster en Geonovum en veel
andere organisaties Sparx EA gebruiken, aanvullend aangegeven hoe het metamodel in Enterprise Architect toegepast wordt. Hierdoor
borgen we deze relatie.
In een aparte bijlage zijn metagegevens beschreven die alleen op Imvertor van toepassing zijn.</li>
<li>   Uniforme toepassing van het metamodel in BSM’s. Anders gezegd, uitbreiden mag, afwijken niet, maak voor hetzelfde doel geen
alternatieve constructies.</li>
</ul>
<p><em>Toelichting metaclass</em></p>
<p>Alle modelelementen zijn een metaklasse in het metamodel. Hiermee wordt aangegeven dat het niet een klasse betreft in een 
informatiemodel, zoals de klasse Getfractie, maar dat het om de classificatie gaat dat de Getfractie een Getberichttype is, 
oftewel dat de klasse Getfractie van de metaklasse Getberichttype is. Vandaar de term metaclass.</p>
<p>De metaklassen worden ook gebruikt om aan te geven hoe deze zich verhouden tot de metaklassen van UML en W3C, in de volgende 
hoofdstukken.</p>
<p>Bij het maken van een BSM modelleer je in feite gewoon met de modelelementen, en geef je aan dat een ‘Getfractie’ een 
Getberichttype is en ‘/fracties’ een Padtype.</p>
<p>Hierna volgen eerst diagrammen met de modelelementen, als overzicht. In de paragrafen erna wordt de betekenis van elk van deze 
modelelementen beschreven, met een definitie en een toelichting en een voorbeeld. Tot slot volgt een paragraaf met metadata die 
bijgehouden wordt, of kan worden, bij een modelelement.</p>
<section id="structuur-metamodel"><h3 id="x2-1-structuur-metamodel"><bdi class="secno">2.1 </bdi>Structuur metamodel</h3>
<p>Deze paragraaf bevat een overzicht van het Metamodel voor BerichtGegevens, kortweg MBG, en geeft alle modelelementen weer. De 
beschrijving van de modelelementen staat in de volgende paragraaf.</p>
<p>De modelelementen zijn verdeeld over een tweetal diagrammen, die elk een eigen view op een deel van het metamodel tonen. Elk 
view toont een aantal van de modelelementen, inclusief hun onderlinge samenhang.</p>
<p>Alle views samen vormen het metamodel als geheel:
•	<a href="#kern">KERN</a>, met de belangrijkste modelelementen in onderlinge samenhang;
•	<a href="#groepering">GROEPERING</a> modelelementen. </p>
<p>Elk modelelement heeft een MBG metaclass met een naam. Hieraan is elk modelelement te herkennen in alle diagrammen en in de tekst 
en in elke specificatietaal die een uitdrukking is van dit metamodel.</p>
<p>Bij de modelelementen zijn in deze diagrammen geen beschrijvende kenmerken opgenomen, de metagegevens zoals naam, definitie 
enzovoorts. In de diagrammen in de bijlage zijn deze wel opgenomen.
 </p>
<section id="kern"><h4 id="x2-1-1-kern"><bdi class="secno">2.1.1 </bdi>Kern</h4>
<p>View 1: De kern van een BSM. Deze bestaat uit de volgende modelelementen:</p>
<table class="simple">
<thead>
<tr>
<th>MBG metaclass</th>
</tr>
</thead>
<tbody><tr>
<td>Getberichttype</td>
</tr>
<tr>
<td>Postberichttype</td>
</tr>
<tr>
<td>Putberichttype</td>
</tr>
<tr>
<td>Patchberichttype</td>
</tr>
<tr>
<td>Deleteberichttype</td>
</tr>
<tr>
<td>Padtype</td>
</tr>
<tr>
<td>Entiteitrelatie</td>
</tr>
<tr>
<td>Padrelatie</td>
</tr>
<tr>
<td>Generalisatie</td>
</tr>
<tr>
<td>Interface</td>
</tr>
</tbody></table>
<p>De betekenis van deze modelelementen en de beschrijvingen ervan staat in <a href="#objecten">Objecten</a> en <a href="#relaties">Relaties</a>.</p>
<p>In diagramvorm:</p>
<p><strong>Diagram toevoegen</strong></p>
<p>Kern: Modelelementen zonder Metagegevens</p>
<p>De verbindingen tussen de modelelementen geven aan welke combinaties kunnen voorkomen op metamodelniveau, oftewel welke 
modelelementen in een informatiemodel met elkaar gecombineerd kunnen worden. Bijvoorbeeld:</p>
<ul>
<li>   Een Patchberichttype kan verbonden worden met een Padrelatie en deze Padrelatie kan weer verbonden worden met een Padtype. 
Dit geeft aan dat een Padrelatie een modelelement is dat een Patchberichttype met een Padtype verbindt. Een Patchberichttype 
kan dus niet rechtstreeks verbonden worden met een Padtype.</li>
<li>   Een Deleteberichttype kan via een generalisatie verbonden worden met een Interface.</li>
</ul>
</section><section id="groepering"><h4 id="x2-1-2-groepering"><bdi class="secno">2.1.2 </bdi>Groepering</h4>
<p>View 2: Groepering. Deze bestaat uit de volgende modelelementen:</p>
<table class="simple">
<thead>
<tr>
<th>MBG metaclass</th>
</tr>
</thead>
<tbody><tr>
<td>Koppelvlak</td>
</tr>
<tr>
<td>Domein</td>
</tr>
<tr>
<td>Bericht</td>
</tr>
</tbody></table>
<p>De betekenis van deze modelelementen en de beschrijvingen ervan staan in <a href="#packages">Packages</a>.</p>
<p>In diagramvorm:</p>
<p> <strong>Diagram toevoegen</strong></p>
<p>Diagram: groepering</p>
</section></section><section id="objecten"><h3 id="x2-2-objecten"><bdi class="secno">2.2 </bdi>Objecten</h3>
<p>Diagram: <a href="#kern">Kern</a></p>
<section id="berichttypes"><h4 id="x2-2-1-berichttypes"><bdi class="secno">2.2.1 </bdi>Berichttypes</h4>
<p>Het MBG metamodel kent een aantal berichttypes. Al deze berichttypes zijn afgeleid van de superclass Berichttype en overerven 
dus de metagegevens van die superclass. De class Berichttype is abstract en zal daarom zelf nooit in een BSM voorkomen. Alle 
berichten moeten één en niet meer dan éen relatie van het type ‘Padrelatie’ en mogen één en niet meer dan éen relatie van het 
type ‘Generalisatie’ hebben.</p>
<p>Elk hieronder toegelicht Berichttype is een abstractie van de werkelijkheid, nl. de berichtspecificatie. In die werkelijkheid 
heeft de keuze voor een berichttype gevolgen voor de wijze waarop dit bericht in de specificatie moet worden gedefinieerd. Die 
gevolgen hebben slechts ten dele invloed op de wijze waarop het bericht gemodelleerd moet worden in een BSM. Hieronder wordt 
per bericht aangegeven wat die gevolgen zijn.</p>
<section id="getberichttype"><h5 id="x2-2-1-1-getberichttype"><bdi class="secno">2.2.1.1 </bdi>Getberichttype</h5>
<aside class="definition">
  <dfn data-lt="objecten|Getberichttype" id="dfn-objecten" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Getberichttype</dfn>De typering van het berichttype waarmee resources kunnen worden opgehaald.
</aside>

<p><em>Toelichting:</em></p>
<p>Classes van dit type hebben verplicht 2 relaties van het type EntiteitRelatie hebben, één relatie met de naam 'request' en 
één met de naam 'response'. Alleen bij de eerste is het toegestaan een leeg Entiteittype aan de EntiteitRelatie te koppelen.</p>
</section><section id="postberichttype"><h5 id="x2-2-1-2-postberichttype"><bdi class="secno">2.2.1.2 </bdi>Postberichttype</h5>
<p>Definitie Postberichttype
De typering van het berichttype waarmee resources kunnen worden aangemaakt.</p>
<p><em>Toelichting:</em> 
Classes van dit type hebben verplicht 2 relaties van het type EntiteitRelatie, één relatie met de naam ‘requestbody’ en één met de naam 'response'.  Een Entiteittype dat m.b.v. de eerste verbonden wordt met het Postberichttype bevat altijd minimaal 1 property. Een Entiteittype dat m.b.v. de tweede verbonden wordt met het Postberichttype mag leeg blijven.</p>
</section><section id="putberichttype"><h5 id="x2-2-1-3-putberichttype"><bdi class="secno">2.2.1.3 </bdi>Putberichttype</h5>
<p>Definitie Putberichttype
De typering van het berichttype waarmee bestaande resources kunnen worden vervangen of nieuwe kunnen worden aangemaakt.</p>
<p><em>Toelichting:</em> 
Classes van dit type hebben verplicht 2 relaties van het type EntiteitRelatie, één met de naam ‘requestbody’ en één met de naam 'response'. Een Entiteittype dat m.b.v. de eerste verbonden wordt met het Postberichttype bevat altijd minimaal 1 property. Een Entiteittype dat m.b.v. de tweede verbonden wordt met het Postberichttype mag leeg blijven.</p>
</section><section id="patchberichttype"><h5 id="x2-2-1-4-patchberichttype"><bdi class="secno">2.2.1.4 </bdi>Patchberichttype</h5>
<p>Definitie Patchberichttype
De typering van het berichttype waarmee properties van resources kunnen worden aangepast.</p>
<p><em>Toelichting:</em>
Classes van dit type hebben verplicht 2 relaties van het type EntiteitRelatie, één met de naam ‘requestbody’ en één met de naam 'response'. Een Entiteittype dat m.b.v. de eerste verbonden wordt met het Postberichttype bevat altijd minimaal 1 property. Een Entiteittype dat m.b.v. de tweede verbonden wordt met het Postberichttype mag leeg blijven.</p>
</section><section id="deleteberichttype"><h5 id="x2-2-1-5-deleteberichttype"><bdi class="secno">2.2.1.5 </bdi>Deleteberichttype</h5>
<p>Definitie Deleteberichttype
De typering van het berichttype waarmee resources kunnen worden verwijderd.</p>
<p><em>Toelichting:</em>
Classes van dit type hebben verplicht 2 relaties van het type EntiteitRelatie, één relatie met de naam 'request' en één met de naam 'response'. Alleen bij de tweede is het toegestaan een leeg Entiteittype aan de EntiteitRelatie te koppelen.</p>
</section></section><section id="padtype"><h4 id="x2-2-2-padtype"><bdi class="secno">2.2.2 </bdi>Padtype</h4>
<p>Definitie Padtype
Het Padtype definieert een relatief path naar een individueel endpoint.</p>
<p><em>Toelichting:</em>
Tezamen met een Server Object url (het deel van de url dat definieert waar de API wordt gehost) vormt het path een uniek adres. De naam van een Padtype start altijd met een slash (/) en mag templates bevatten. Dit zijn strings voorafgegaan door een slash (/), startend met een open accolade ({) en eindigend met een sluit accolade (}). Binnen een model mogen niet meerdere Padtypes voorkomen met dezelfde naam. Meerdere berichten mogen gebruik maken van hetzelfde Padtype zolang deze maar niet van hetzelfde Berichttype zijn.
Classes van dit type hebben 1 verplichte relatie van het type 'Padrelatie'.
2.2.3 Interface
Definitie Interface
Een Interface definieert een berichttype op een hoger abstractie niveau.</p>
<p><em>Toelichting:</em>
Een interface definieert eigenschappen (metagegevens, attribuutsoorten en/of relaties) die een groep van berichttypes gemeen hebben. Een interface kan d.m.v. een generalisatie relatie gekoppeld worden aan een specifiek berichttype waarmee deze de eigenschappen van die interface overerft.
2.3 Relaties
Verbanden met betekenis, die gelegd zijn tussen modelelementen van het type Berichttype naar het type Entiteittype of van het type Berichttype naar het type Padtype.
Diagram: Kern
2.3.1 Generalisatie
Definitie Generalisatie tussen Berichttype en Interface
De typering van het hiërarchische verband tussen een meer generiek en een meer specifiek modelelement van hetzelfde soort, waarbij het meer specifieke modelelement eigenschappen van het meer generieke modelelement overerft. Dit verband is alleen gedefinieerd voor generalisaties tussen Berichttypes en Interfaces.</p>
<p><em>Toelichting:</em>
De generalisatie relatie geeft aan dat bepaalde eigenschappen van een interface (metagegevens) ook gelden voor de gerelateerde berichttypen.
 
2.3.2 EntiteitRelatie
Definitie EntiteitRelatie
Modelelement waarmee verschillende relaties tussen de berichtdefinitie en de resource waar het bericht betrekking op heeft kunnen worden gemodelleerd.</p>
<p><em>Toelichting:</em>
Berichttypes danken hun bestaan aan een specifieke resource, de resource waarop de methode, die de berichttype vertegenwoordigd, moet worden uitgevoerd. Het modelleren van de relatie tussen het Berichttype en het Entiteittype dat de resource vertegenwoordigd gebeurd met de metaklasse EntiteitRelatie. Een Berichttype kan, afhankelijk van het type, 1 of 2 EntiteitRelaties hebben. Een EntiteitRelatie kan maar met 1 Berichttype en 1 Entiteittype verbonden zijn maar een Entiteittype kan wel meerdere EntiteitRelaties hebben. De naam van deze relatie kan alleen ‘request’, ‘requestbody’ of ‘response’ zijn.
2.3.2 PadRelatie
Definitie PadRelatie
Modelelement waarmee de relatie tussen de berichtdefinitie en het Padtype dat het bericht identificeert kan worden gemodelleerd.</p>
<p><em>Toelichting:</em>
Elk Berichttype moet aan een relatief path worden gekoppeld. Het modelleren van de relatie tussen een Berichttype en het PadType gebeurd m.b.v. de metaklasse PadRelatie. Elk berichttype kan maar aan 1 PadType worden gekoppeld maar meerdere Berichttypes kunnen wel hetzelfde PadType hebben. Deze relatie heeft altijd de naam ‘pad’.
2.4 Packages
Definitie Package
Een package is een benoemde en begrensde verzameling/groepering van modelelementen.</p>
<p>Diagram: Groepering
Het MBG metamodel kent een aantal packages. Al deze packages zijn afgeleid van de superclass Package. De class Package is abstract en zal daarom zelf nooit in een BSM voorkomen.
De verschillende modelelementen van het type package zijn:
•	Koppelvlak
•	Domein
•	Bericht
In een Koppelvlak package komen Bericht packes voor en kunnen Domein packages opgenomen worden.
In een Bericht package mogen de volgende MBG-elementen worden opgenomen:
•	Getberichttype
•	Postberichttype
•	Putberichttype
•	Patchberichttype
•	Deleteberichttype
•	Padtype
en alle modelelementen van het Metamodel Uitwisselings Gegevens (MUG).
In een Domein package mogen alleen modelelementen van het Metamodel Uitwisselings Gegevens (MUG) worden opgenomen.
In beide gevallen is de volgorde daarbij niet van belang.
De drie package-typen worden hieronder uitgelegd.
2.4.1 Koppelvlak
Definitie Koppelvlak
De groepering van alle modelelementen waaruit het Koppelvlak is opgebouwd. Het Koppelvlak als geheel.</p>
<p><em>Toelichting:</em>
Het Koppelvlak is een package, te weten het hoofdpackage van het koppelvlak, waaronder alle subpackages die een koppelvlak beschrijven, zoals Domein en Bericht, vallen. Het koppelvlak wordt verder beschreven met metadata, zoals de serialisatie waarin het koppelvlak moet worden uitgedrukt (‘json’ of ‘hal+json’) en de naam van het koppelvlak.
 
2.4.2 Domein
Een koppelvlak kan optioneel een aantal Domein packages hebben als subpackage, waarbij aangegeven wordt dat deze de modellering van de gegevens van het domein bevatten.</p>
<p>Definitie Domein
Een groepering van constructies die een semantisch samenhangend gedeelte van een koppelvlak beschrijven welke met de in het koppelvlak beschreven berichten kunnen worden uitgewisseld.</p>
<p><em>Toelichting:</em>
Een Domein package bevat die modelelementen die met het koppelvlak uitgewisseld worden, zoals het Entiteittype ‘Persoon’ en het Entiteittype ‘Adres’ en impliciet ook relaties als ‘gehuwdMet’. In ieder geval alleen modelelementen uit het Metamodel Uitwisselings Gegevens (MUG). Deze modelelementen kunnen 1 op 1 overgenomen zijn van een Uitwisselingsgegevensmodel (UGM) maar kunnen ook bewerkingen daarvan zijn.
2.4.3 Bericht
Een koppelvlak bevat een of meer Bericht packages als subpackage.
Definitie Bericht
Een groepering van constructies die de modelelementen van een of meerdere gerelateerde berichten clustert.</p>
<p><em>Toelichting:</em>
Berichten worden doorgaans geclusterd op basis van een in een UGM gemodelleerd Entiteittype. Alle berichten die dezelfde Entiteittype als top level delen kunnen bij elkaar in één Bericht package worden geplaatst. Met ‘dezelfde Entiteittype’ bedoelen we hier niet ‘dezelfde instantie van een entiteittype klasse’. In een bericht mogen dus meerdere entiteittype klassen van dezelfde Entiteittype worden opgenomen zolang de naam maar uniek blijft binnen het koppelvlak.
Een Bericht package bevat i.i.g. de voor de berichten benodigde modelelementen van een set van gerelateerde berichten maar kan ook alle modelelementen bevatten die in een ‘Domein’ package mogen worden opgenomen.
2.5 Specificatie metagegevens
Bij de modelelementen in een koppelvlak kunnen metagegevens, zoals 'naam' of 'berichtcode' van een modelelement, worden bijgehouden. Dit zijn geen eigenschappen van een object en worden daarom niet als bijvoorbeeld een EntiteitRelatie van een Berichttype gemodelleerd.
In de volgende paragrafen worden de metagegevens in tekst beschreven. Bij elk metagegeven is de definitie opgenomen, een toelichting en de toepassing ervan bij modelelementen en soms een voorbeeld.
2.5.1 Specificatie metagegevens Packages
We onderkennen een aantal specifieke metagegevens op het niveau van de packages. Deze staan beschreven in deze paragaaf.
2.5.1.1 Metagegeven: Naam
Definitie Naam
Korte identificatie van een koppelvlak of beschrijving van een package als definitie van diens functie of inhoud.</p>
<p><em>Toelichting:</em>
Korte identificerende naam van een Koppelvlak package of definitie van een Domein of Bericht package zodat duidelijk is waartoe het dient en/of wat voor inhoud het heeft of kan worden opgenomen. 
Bijvoorbeeld: Enumeraties.
Toepassing: Alle packages (verplicht)
2.5.1.2 Metagegeven: beheerder-email
Definitie beheerder-email
Het e-Mail adres van de persoon of organisatie die het koppelvlak beheert.</p>
<p><em>Toelichting:</em></p>
<p>Het e-Mailadres dat in de berichtenspecificatie en/of de documentatie daarvan kan worden opgenomen zodat voor de gebruikers van de specificatie duidelijk is hoe ze middels e-Mail contact op kunnen nemen met de beherende persoon of organisatie.
Toepassing: Koppelvlak (optioneel)
 
2.5.1.4 Metagegeven: Koppelvlak-naam
Definitie Koppelvlak-naam
Volledige naam van een koppelvlak.</p>
<p><em>Toelichting:</em>
Bedoelt om kernachtig de functie/domein van het koppelvlak dat gemodelleerd wordt aan te geven.
Bijvoorbeeld: ‘Open Raads- en StatenInformatie’ of ‘Regels bij activiteiten’.
Toepassing: Koppelvlak (verplicht)
2.5.1.5 Metagegeven: project_url
Definitie project_url
Url van de bij het koppelvlak horende project repository.</p>
<p><em>Toelichting:</em>
De url van de repository waarin de al dan niet met het koppelvlakmodel te genereren of gegenereerde specificatie en documentatie wordt opgeslagen. Dit kan bijv. een GitHub repository zijn maar ook een GitLab of andersoortige repository.
Bijvoorbeeld: <a href="https://github.com/VNG-Realisatie/ODS-Open-Raadsinformatie">https://github.com/VNG-Realisatie/ODS-Open-Raadsinformatie</a> 
Toepassing: Koppelvlak (optioneel)
2.5.1.6 Metagegeven: release
Definitie release
Datum waarop begonnen is met het realiseren van de betreffende versie van het koppelvlak.</p>
<p><em>Toelichting:</em>
De datum wordt uitgedrukt in het volgende formaat ‘jjjjmmdd’.
Bijvoorbeeld: 20230404
Toepassing: Koppelvlak (verplicht)
 
2.5.1.7 Metagegeven: Serialisatie
Definitie Serialisatie
Definieert de vorm waarnaar het koppelvlak geserialiseerd moet worden.</p>
<p><em>Toelichting:</em>
BSM’s op basis van het MBG worden opgesteld teneinde omgezet te worden naar een technische specificatie. De vorm waarin de technische specificatie wordt uitgedrukt is de serialisatie. Voor REST OAS API’s gaat het om de serialisatietypes, ‘json’ en ‘hal+json’. In principe zijn ook andere serialisaties mogelijk zoals ‘xml’. Dit metagegeven definieert de gewenste serialisatievorm.
Toepassing: Koppelvlak (optioneel)
2.5.2 Specificatie metagegevens modelelementen
De specifieke metagegevens op het niveau van de modelelementen waarmee een BSM wordt samengesteld staan beschreven in deze paragaaf.
Zo is er de naam van het modelelement, bijvoorbeeld het Getberichttype met als naam ‘Getagendapunt’ en een bijbehorende berichtcode, bijvoorbeeld Gr01.
Welke metagegevens verplicht zijn per modelelement en welke niet staat beschreven in het diagram in Metagegevens per modelelement. Dit diagram is een onderdeel van deze specificatie.
Elk modelelement kent een eigen set van metagegevens, die bepaalde aspecten van het modelelement specificeren. Metagegevens kunnen dus verplicht of optioneel zijn. Zo is een berichtcode altijd verplicht voor de berichttype modelelementen.
2.5.2.1 Metagegeven: Naam
Definitie Naam
De naam van een modelelement.</p>
<p><em>Toelichting:</em>
Een korte beschrijving die het modelelement benoemt. In de berichttype modelelementen en ‘Interface’ heeft dit metagegeven alleen een functie bij het kunnen interpreteren van het model. De in de modelelementen ‘EntiteitRelatie’ en ‘Padtype’ gedefinieerde waardes voor dit metagegeven ‘Naam’ komen terug in de berichtspecificatie’.
Bij de modelelementen ‘EntiteitRelatie’ en ‘PadRelatie’ wordt de naam gekozen uit een beperkte set van waarden. In het geval van de laatste heeft het zelfs altijd slechts 1 mogelijke waarde, te weten ‘pad’.
Binnen een BSM mogen niet meerdere Berichttype, Padtype, Domein en Bericht modelelementen met dezelfde naam voorkomen.
Bijvoorbeeld: ‘/stemmingen/{stemmingsidentificatie}’ is de naam van het modelelement ‘Padtype’ en ‘Getactiviteit’ is de naam van het modelelement ‘Getberichttype’.
Toepassing: alle modelelementen behalve Generalisatie (verplicht).
2.5.2.3 Metagegeven: berichtcode
Definitie berichtcode
Code ter typering van een bericht.</p>
<p><em>Toelichting:</em>
De code bestaat uit een limitatieve lijst van waarden en typeert een bericht. Aan de hand van deze code worden door Imvertor aan properties/kenmerken toegekend aan een bericht in een berichtspecificatie standaard.
Toepassing: Alle van Berichttype afgeleide modelelementen (verplicht).
2.5.2.4 Metagegeven: tag
Definitie tag
Naam waarmee een aantal berichten kan worden gegroepeerd.</p>
<p><em>Toelichting:</em>
Dit metagegeven heeft een ordenende functie. De wijze van ordenen is niet voorgeschreven maar over het algemeen krijgen berichten die een (deel van een pad) met elkaar gemeen hebben dezelfde waarde voor dit metagegeven.
Toepassing: Alle van Berichttype afgeleide modelelementen (optioneel).</p>
<p>2.5.2.5 Metagegeven: servicename
Definitie servicename
OperationId van een OAS3 service.</p>
<p><em>Toelichting:</em>
Unieke identificatie van een operation in een OAS berichtspecificatie. Een operation is een combinatie van een path en een HTTP method. Binnen een OAS berichtspecificatie is het niet toegestaan om een path en een HTTP method meerdere keren met elkaar te combineren.
Bijvoorbeeld: ‘getUserById’.
Toepassing: Alle van Berichttype afgeleide modelelementen (verplicht).
2.5.2.9 Metagegeven: custom_path_facet
Definitie custom_path_facet.
Niet af te leiden deel van het path.</p>
<p><em>Toelichting:</em>
Het deel van het path dat niet uit het berichtenmodel kan worden afgeleid. 
Om het path toch te kunnen verifiëren tegen het model wordt daar eerst de custom_path_facet uit verwijderd. Deze tv mag ‘/’ (slashes) bevatten maar niet aan het begin en eind.
Bijvoorbeeld: bijv. ‘actuelestatus’ en ‘nawgegevens’ in ‘/zaken/{id}/actuelestatus’ resp. ‘/ingeschrevennatuurlijkpersonen/{burgerservicenummer}/nawgegevens’.
Toepassing: Padtype (optioneel).
2.5.2.10 Metagegeven: Positie
Definitie Positie
Positie die een construct inneemt t.o.v. constructs op hetzelfde niveau.</p>
<p><em>Toelichting:</em>
De positie van de construct binnen producten waarin deze opeenvolging een rol speelt. Dit metagegeven had in het verleden een functie maar is inmiddels obsolete.
Toepassing: Entiteitrelatie (optioneel).
 
2.5.3 Specificatie metagegevens modelelement bindingen
Bindingen geven aan hoe modelelementen met elkaar verbonden kunnen en mogen worden.
Voorbeeld: de binding tussen een Berichttype en een Padtype, om aan te geven dat een Berichttype aan een pad moet worden gekoppeld. Een voorbeeld van wat niet mag is de verbinding van een Padtype aan een EntiteitRelatie.
Deze metagegevens zijn alleen nodig voor de binding van modelelementen aan elkaar en zijn vrijwel altijd een onderdeel van een modelleertaal (waarmee een BSM gemaakt kan worden).
De bindingen zijn ook in diagram vorm te lezen aan het begin van dit hoofdstuk, in Diagrammen van modelelementen.
2.5.3.1 Metagegeven: heeft padrelatie
Verkorte schrijfwijze: PadRelatie
Definitie heeft padrelatie
De binding van een Berichttype aan een Padtype middels een Padrelatie.</p>
<p><em>Toelichting:</em>
Een Berichttype heeft een relatie naar een Padtype.
Toepassing: Alle Berichttype modelelementen en Padtype.
2.5.3.2 Metagegeven: heeft entiteitrelatie
Verkorte schrijfwijze: EntiteitRelatie
Definitie heeft entiteitrelatie
De binding van een Berichttype aan een Entiteittype uit het MUG middels een EntiteitRelatie.</p>
<p><em>Toelichting:</em>
Een Berichttype heeft een relatie naar een Entiteittype, de top level entiteit.
Toepassing: Alle Entiteittype modelelementen uit het MUG en alle Berichttype modelelementen.
 
2.5.3.3 Metagegeven: verwijst naar supertype
Verkorte schrijfwijze: supertype
Definitie verwijst naar supertype
De binding van een supertype aan een subtype middels een generalisatie.</p>
<p><em>Toelichting:</em>
Een subtype verwijst met een generalisatie naar een supertype en subtype verwijst met een generalisatie naar een supertype.
Toepassing: Alle Berichttype en Interface modelelementen.
2.6 Toegestane waarden voor (bepaalde) metagegevens
2.6.1 Waardebereik metagegevens
Een aantal metagegevens hebben als datatype CharacterString. Aanvullend geldt:
•	Voor datums dat deze het volgende patroon volgen: jjjjmmdd
Voor de volgende metagegevens geldt een specifiek waardebereik.
Metagegeven	Waardenbereik
berichtcode	Gr01, Gr02, Gc01, Po01, Pu01, Pa01, De01
Grouping	resource, collection
Naam (bij EntiteitRelatie)	resource, request, requestbody
Naam (bij PadRelatie)	Pad
Is afgeleid (bij Koppelvlak)	Ja, Nee
Is afgeleid (bij andere elementen)	Ja, Nee, Zie package
Serialisatie	json, hal+json
Supplier-project	UGM 
toelichting opnemen vanaf	SIM, UGM, BSM
2.6.2 Defaultwaarden voor metagegevens modelelementen
Er zijn metagegevens die een defaultwaarde hebben. Het is echter niet nodig om deze defaultwaarde expliciet aan te geven in het informatiemodel. De default staat hier aangegeven. Alleen wanneer er afgeweken wordt van deze default wordt dit in een BSM aangegeven.</p>
<p>Metagegeven	Defaultwaarde
Is afgeleid (bij Koppelvlak)	Ja
Is afgeleid (bij andere elementen)	Ja
Serialisatie	hal+json 
toelichting opnemen vanaf	SIM</p>
<p>Opmerking met betrekking tot de kardinaliteit van relaties: deze staat niet in de tabel. Deze kennen geen defaultwaarde. De kardinaliteit aan de doel kant moet altijd worden aangegeven. De kardinaliteit aan de bron/eigenaar kant van een relatie is optioneel om in te vullen, wanneer er niets is ingevuld dan wordt er niets over de kardinaliteit gezegd en kent deze geen default waarde (in de praktijk betekent dit dat een kardinaliteit aan de bron kant als 0..* geïmplementeerd wordt).</p>
</section></section></section>
  <section id="conformance"><h2 id="x3-conformiteit"><bdi class="secno">3. </bdi>Conformiteit</h2><p>Naast onderdelen die als niet normatief gemarkeerd zijn, zijn ook alle diagrammen, voorbeelden, en noten in dit document niet normatief. Verder is alles in dit document normatief.</p></section>
  <section id="tof"></section>
  <section id="index" class="appendix"><h2 id="a-index"><bdi class="secno">A. </bdi>Index</h2><section id="index-defined-here">
    <h3 id="a-1-begrippen-gedefinieerd-door-deze-specificatie"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</h3>
    <ul class="index">
    <li>
      <a class="index-term" href="#dfn-objecten">Getberichttype</a> 
    <span class="print-only">§2.2.1.1</span></li>
  </ul>
  </section><section id="index-defined-elsewhere">
    <h3 id="a-2-begrippen-gedefinieerd-door-verwijzing"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</h3>
    <ul class="index">
    
  </ul>
  </section></section>



<section id="references" class="appendix"><h2 id="b-referenties"><bdi class="secno">B. </bdi>Referenties</h2><section id="normatieve-referenties">
    <h3 id="b-1-normatieve-referenties"><bdi class="secno">B.1 </bdi>Normatieve referenties</h3>
    <dl class="bibliography"><dt id="bib-mim">[MIM]</dt><dd>
      <a href="https://docs.geostandaarden.nl/mim/def-st-mim-20220217/"><cite>MIM - Metamodel Informatie Modellering</cite></a>.  Geonovum. 17 Februari 2022. URL: <a href="https://docs.geostandaarden.nl/mim/def-st-mim-20220217/">https://docs.geostandaarden.nl/mim/def-st-mim-20220217/</a>
    </dd><dt id="bib-omg">[OMG]</dt><dd>
      <a href="http://www.omg.org/spec/UML/2.5"><cite>Object Management Group Unified Modeling Language TM</cite></a>.  Object Management Group (OMG). BG-FINAL. URL: <a href="http://www.omg.org/spec/UML/2.5">http://www.omg.org/spec/UML/2.5</a>
    </dd><dt id="bib-uml">[UML]</dt><dd>
      <a href="http://uml.org"><cite>Unified Modeling Language (UML).</cite></a>. URL: <a href="http://uml.org">http://uml.org</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-objecten" aria-label="Links in this document to definition: Getberichttype">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-objecten" aria-label="Permalink for definition: Getberichttype. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><div class="sidelabel">VNG Realisatie Standaard - Consultatieversie</div><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>